# 需求规格描述文档

## 文档修改历史

| 修改人员                       | 日期      | 变更原因                               | 版本号        |
| :--------------------------: | --------- | -------------------------------------- | ------------- |
| 刘佳月、沈祎辰、王雨晨、殷德林 | 2020.4.16 | 完成迭代二部分                    |     V1.0.0    |
| 王雨晨                     | 2020.4.18 | 新增标题、变更记录、目录 | V1.0.1 |
| 沈祎辰 | 2020.4.19 | 修改通信接口 | V1.0.2 |

## 目录

<!-- TOC -->

- [需求规格描述文档](#需求规格描述文档)
    - [文档修改历史](#文档修改历史)
    - [目录](#目录)
    - [1.引言](#1-引言)
        - [1.1 目的](#11-目的)
        - [1.2 范围](#12-范围)
        - [1.3 参考文献](#13-参考文献)
    - [2.总体描述](#2总体描述)
        - [2.1 项目前景](#21-项目前景)
            - [2.1.1 背景与机遇](#211-背景与机遇)
            - [2.1.2 业务需求](#212-业务需求)
        - [2.2 项目功能](#22-项目功能)
        - [2.3 用户特征](#23-用户特征)
        - [2.4 约束](#24-约束)
        - [2.5 假设和依赖](#25-假设与依赖)
    - [3.详细需求描述](#3详细需求描述)
        - [3.1 对外接口需求](#31-对外接口需求)
            - [3.1.1 用户界面](#311-用户界面)
            - [3.1.2 通信接口](#312-通信接口)
        - [3.2 功能需求](#32-功能需求)
            - [3.2.1 撤销订单](#321-撤销订单)
                - [3.2.1.1 特征描述](#3211-特征描述)
                - [3.2.1.2 刺激/响应序列](#3212-刺激响应序列)
                - [3.2.1.3 相关功能需求](#3213-相关功能需求)
            - [3.2.2 搜索酒店信息](#322-搜索酒店信息)
                - [3.2.2.1 特征描述](#3221-特征描述)
                - [3.2.2.2 刺激/响应序列](#3222-刺激响应序列)
                - [3.2.2.3 相关功能需求](#3223-相关功能需求)
            - [3.2.3 注册会员](#323-注册会员)
                - [3.2.3.1 特征描述](#3231-特征描述)
                - [3.2.3.2 刺激/响应序列](#3232-刺激响应序列)
                - [3.2.3.3 相关功能需求](#3233-相关功能需求)
            - [3.2.4 制定酒店促销策略](#324-制定酒店促销策略)
                - [3.2.4.1 特征描述](#3241-特征描述)
                - [3.2.4.2 刺激/响应序列](#3242-刺激响应序列)
                - [3.2.4.3 相关功能需求](#3243-相关功能需求)
            - [3.2.5 浏览订单](#325-浏览订单)
                - [3.2.5.1 特征描述](#3251-特征描述)
                - [3.2.5.2 刺激/响应序列](#3252-刺激响应序列)
                - [3.2.5.3 相关功能需求](#3253-相关功能需求)
            - [3.2.6 执行订单](#326-执行订单)
                - [3.2.6.1 特征描述](#3261-特征描述)
                - [3.2.6.2 刺激/响应序列](#3262-刺激响应序列)
                - [3.2.6.3 相关功能需求](#3263-相关功能需求)
            - [3.2.7 制定酒店促销策略](#327-制定酒店促销策略)
                - [3.2.7.1 特征描述](#3271-特征描述)
                - [3.2.7.2 刺激/响应序列](#3272-刺激响应序列)
                - [3.2.7.3 相关功能需求](#3273-相关功能需求)
        - [3.3 非功能需求](#33-非功能需求)
            - [3.3.1 安全性](#331-安全性)
            - [3.3.2 可维护性](#332-可维护性)
            - [3.3.3 易用性](#333-易用性)
            - [3.3.4 可靠性](#334-可靠性)
            - [3.3.5 业务规则](#335-业务规则)
            - [3.3.6 约束](#336-约束)
        - [3.4 数据需求](#34-数据需求)
            - [3.4.1 数据定义](#341-数据定义)
            - [3.4.2 默认数据](#342-默认数据)
            - [3.4.3 数据格式要求](#343-数据格式要求)
        - [3.5 其他](#35-其他)

<!-- /TOC -->

## 1. 引言

### 1.1 目的

本文档描述了互联网酒店预订系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

除特殊说明外，本文档包含的需求都是高优先级需求

### 1.2 范围

互联网酒店预订系统是为便利人们出行时的酒店预订而开发的业务系统，开发的目标是处理酒店预订中的重点业务。

通过互联网酒店预订系统的应用，期望能够为酒店招徕更多的房客、吸引回头客并提高满意度，为房客提供更优质的选择、更良好的入住体验，达到双赢的效果。

### 1.3 参考文献

[1] 骆斌，丁二玉，刘钦 . 软件工程与技术（卷二）: 软件开发的技术基础 [M] . 北京: 机械工业出版社，2012.

[2]IEEE标准

[3]互联网酒店预订系统用例文档

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统上的线下酒店预订模式有着很多不方便之处：

*  因为目的地往往是外地，无法全面了解当地的酒店情况，选择范围大大受限，难以选择到最适合的酒店；
* 提前预订的双方都有风险，酒店担心恶意预订，顾客担心酒店不符合预期；
* 酒店要及时掌握预订顾客的行程变化也会比较麻烦，需要频繁的长途联系； 
* 虽然过去的体验能够给未来带来参考，但是时间一长很多信息就会被遗忘掉，过去的参考作用就受到限制（事实上，过去的出行体验会大大影响人们未来的选择）。

该互联网酒店预订系统正是为了解决上述问题、方便人们出行中的酒店预订而开发的。面对日益激烈的市场竞争和不断增长的差旅需求，建立起在线预订平台，能有效方便客户、酒店双方，达到更高的交易满意度。

#### 2.1.2 业务需求

BR1：在系统使用3个月后，入驻酒店平均成功预订房间数要增加15%。

BR2：在系统使用1个月后，入驻酒店工作人员效率要提高10%。

BR3：在系统使用5个月后，累计注册用户数量达到5000。

BR4：在系统使用3个月后，累计入驻酒店数量达到2000。

### 2.2 项目功能

SF1：全面展现任一个地域内的酒店信息，帮助顾客进行更好地比较与选择。

SF2：执行信用累计制度，防范恶意预订。

SF3：进行房客评价，反映酒店与描述的相符程度。

SF4：帮助酒店及时了解到所有预订订单的变化动态。

SF5：帮助顾客建立体验历史记录，在顾客预订时发挥历史记录的作用。

SF6：补贴费用帮助酒店进行促销。

### 2.3 用户特征

* 客户

  预估计在客户流量较大的节假日，平均每小时有30-50名客户访问网站。其他时间客户日访问量预计达到2000人次。客户具有一定的计算机操作技能，但不一定具有专业的计算机技能。可以完成输入、点击、查找等操作。他们具有长期或短期的预订酒店需求，希望快速、成功地完成酒店预订，以满足差旅需要。他们希望了解不同酒店的详细、真实信息以进行比较。为了提高预订酒店的决策效率，他们希望系统能够提供清晰明了的指示、有效的检索，并且可以方便地查看历史订单记录。部分客户希望通过注册成为会员享受附加服务。

* 酒店工作人员

  每个酒店只有一个工作人员账号。酒店工作人员具有一定的计算机操作技能。他们每天都要进行基本信息检查或维护3-4次，并完成大量的客房信息更新任务、订单状态浏览更新任务。他们通常每周要根据客房情况更新一次预订优惠策略，且在特定期间或合作企业客户变更时及时调整促销策略。因为任务较为频繁，且学习周期短，他们希望系统易学、易操作。

* 网站营销人员

  网站有2-3个网站营销人员。网站营销人员具有一定的计算机操作技能。他们需要在特定期间制定网站促销策略，并制定合理的VIP等级及相应优惠策略，以吸引尽可能多的酒店入驻、尽可能多的客户使用网站。他们希望方便、无遗漏地浏览异常订单执行情况，保证正常需求的满足。对于信用充值需求，他们希望能够便捷、正确地完成。

* 网站管理人员

  网站有1-2个网站管理员。他们的工作是每天多次检查网站是否正常运行，并根据其他用户的合理请求更新用户信息。网站管理人员是计算机专业维护人员，计算机技能很好。

### 2.4 约束

CON1：系统将运行在网页浏览器上。

CON2：系统使用web界面。

CON3：项目要使用持续集成方法进行开发。

CON4：在开发中，开发这要提交软件需求规格说明文档、设计描述文档和测试报告。

CON5：本项目将使用Spring Boot作为后端框架，整合Mybatis框架进行持久层操作，使用Vue框架进行前端开发。

### 2.5 假设与依赖

AE1：网络畅通，不会发生故障；

AE2：所有操作任务的完成时间不会超过1个小时，即使用暂停与中断不会超过1个小时；

AE3：地址中的城市和商圈比较固定，事先被预置在系统数据中，且少量修改直接在后台数据中进行，不需要系统提供维护功能

AE4：系统不需要处理费用问题，完全由线下完成；

AE5：用户的异常订单申诉不需要系统处理，完成线下进行；

AE6：系统功能不包括酒店的房间管理（例如房间布局、门号、线下入住与退房等等），只需要完成订单操作和更新线下导致的可用房间类型数量变化。




## 3 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面 
##### UI1登录注册

​	UI1.1在用户打开酒店预订系统网址时，系统显示登录界面，如图
​	UI1.2在客户选择注册选项时，系统显示注册界面，如图

##### UI2客户界面

​	UI2.1当客户登录后，系统展开酒店列表，如图
​			UI2.1.1在客户根据条件筛选酒店时，系统显示筛选结果，如图
​			UI2.1.2当客户点击某家酒店，系统显示该酒店详细信息，包括酒店基本信息、服务设施标签、房间信息、酒店评价等，如图
​	UI2.2当客户点击个人中心时
​			UI2.2.1系统显示个人信息，并允许客户修改信息，如图
​			UI2.2.2在客户选择查看订单时，系统使用Form风格的界面，允许客户查看订单详细信息，撤销订单，评价已执行订单，如图
​			UI2.2.3在客户点击消息时，系统显示客户与网站运营人员的消息页面，如图

![](https://supernatural.oss-cn-beijing.aliyuncs.com/image-20200627145342214.png)

##### UI3酒店工作人员界面

​	UI3.1当酒店工作人员登录后，系统显示酒店工作人员所属酒店的订单信息，允许工作人员查看订单详情、修改订单状态，如图
​	UI3.2当酒店工作人员选择查看基本信息时，系统显示酒店基本信息与设施服务标签，如图
​	UI3.3当酒店工作人员选择查看酒店评价时，系统显示酒店评价与工作人员的回复，如图

##### UI4网站运营人员界面

​	UI4.1当网站运营人员登录后，系统展开酒店列表，如图
​	UI4.2运营人员点击”信用判定“后，系统使用Form风格的界面，显示订单状态信息，进行信用变更操作如图运
​	UI4.3营人员选择“信用变更记录“后，系统使用Form风格的界面，允许运营人员查看信用变更记录，如图
​	UI4.4运营人员点击”推广度曲线“，系统显示网站用户人数变化曲线，如图
​	UI4.5运营人员选择”消息“
​			UI4.5.1点击”问题“，系统显示客户发送给运营人员的消息列表，如图
​			UI4.5.2点击”发送消息“
​					UI4.5.2.1运营人员选择”编辑消息“，系统显示发送私信或公告界面，如图
​					UI4.5.2.2运营人员选择”推送记录“，系统使用Form风格的界面，如图
​					UI4.5.2.3运营人员选择”公告管理“，系统使用Form风格的界面，如图
​					UI4.5.2.4运营人员选择”优惠券赠送记录“，系统显示网站优惠策略，如图

##### UI5网站管理员界面

​	系统使用Form风格的界面
​	UI5.1当管理员登录后，系统显示客户信息，允许管理员搜索、删除客户，修改客户信息，如图
​	UI5.2当管理员点击网站运营人员，系统显示网站运营人员信息，允许管理员搜索、添加运营人员，修改运营人员信息，如图
​	UI5.3当管理员点击酒店，系统显示酒店信息，允许管理员搜索、添加酒店，添加酒店对应工作人员账号，删除酒店及其工作人员，如图
​	UI5.4当管理员点击酒店工作人员，系统显示工作人员信息

![](https://supernatural.oss-cn-beijing.aliyuncs.com/image-20200627150340240.png)

#### 3.1.2 通信接口

CI: 客户端与服务器使用HTTP的方式进行通信。


### 3.2 功能需求


#### 3.2.1 撤销订单

##### 3.2.1.1 特征描述

在订单已经生成但还未执行时，客户想要取消订单。

优先级=高

##### 3.2.1.2 刺激/响应序列

刺激：客户发出撤销订单的请求。

响应：系统提示是否确认撤销订单并根据剩余时间提示扣除信用值信息。

刺激：客户取消撤销订单任务。

响应：系统关闭撤销订单任务。

刺激：客户填写撤销理由并确认撤销订单。

系统：系统提示撤销订单成功，并更新订单状态以及用户的信用值。

##### 3.2.1.3 相关功能需求
| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| OrderCancellation.Input<br />OrderCancellation.Input.Reason<br />OrderCancellation.Input.Cancel<br /> | 系统应该允许客户在撤销订单任务中进行键盘输入<br />在客户输入撤销订单理由时，系统要记录撤销订单理由，参见OrderCancellation.Update<br />在客户输入取消命令时，系统关闭当前撤销订单任务，开始一个新的撤销订单任务，参见OrderCancellation.Close<br /> |
| OrderCancellation.Rules.Null                                 | 在客户未输入撤销订单理由就确认撤销订单时，系统提示客户输入撤销订单理由，不做其他处理 |
| OrderCancellation.End<br />OrderCancellation.End.Timeout<br />OrderCancellation.End.Update<br />OrderCancellation.End.Close | 系统应该允许客户要求结束撤销订单任务<br />在撤销订单任务开始1个小时后还没有接到客户请求时，系统取消撤销订单任务<br />在客户要求结束撤销订单任务时，系统更新数据，参见OrderCancellation.Update<br />在客户确认撤销订单任务完成后，系统关闭撤销订单任务，参见OrderCancellation.Close |
| OrderCancellation.Update<br />OrderCancellation.Update.OrderInformation<br />OderCancellation.Update.Credit | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新订单信息<br />系统根据时间决定是否更新客户的信用值 |
| OrderCancellation.Close.Message<br />OrderCancellation.Close.next | 系统提示撤销订单是否成功<br />系统关闭本次撤销订单任务，开始新的撤销订单任务 |


#### 3.2.2 搜索酒店信息

##### 3.2.2.1 特征描述

当客户需要根据自己的需求来进行特定范围内的酒店信息检索时，由系统展示酒店信息

优先级=高

##### 3.2.2.2 刺激/响应序列

刺激：客户发出搜索酒店信息的请求

响应：系统提示客户选择商圈、时间、价格、星级作为筛选条件，选择好评优先或预定过优先作为排序条件

刺激：客户选择筛选条件和排序条件，并发出筛选请求

响应：系统根据检索条件查询并展示相应的酒店信息

刺激：客户取消搜索酒店信息任务

响应：系统关闭搜索酒店信息任务

刺激：客户增加/删除检索条件，并发出筛选请求

响应：系统根据修改后的检索条件更新酒店信息

刺激：客户选择重置筛选条件和排序条件

响应：系统将筛选条件和排序条件重置为默认值

##### 3.2.2.3 相关功能需求
| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| RetrieveHotelInfo.Input<br />RetrieveHotelInfo.Input.Update<br />RetrieveHotelInfo.Input.Cancel<br />RetrieveHotelInfo.Input.Reset | 系统应该允许客户在搜索酒店信息任务中进行键盘输入以及选择检索条件<br />在客户更新检索条件时，系统应该展示对应更新后的酒店信息<br />在客户取消搜索酒店信息任务时，系统关闭当前搜索酒店信息任务，开始一个新的搜索酒店信息任务，参见RetrieveHotelInfo.Close<br />在客户重置检索条件时，系统应该展示默认检索条件下的酒店信息<br > |
| RetrieveHotelInfo.End<br />RetrieveHotelInfo.End.Timeout<br />RetrieveHotelInfo.End.Close | 系统应该允许客户要求结束搜索酒店信息任务<br />在搜索酒店信息任务开始1个小时后还没有接到客户请求时，系统取消搜索酒店信息任务<br />在客户确认搜索酒店信息任务完成后，系统关闭搜索酒店信息任务，参见RetrieveHotelInfo.Close |
| RetrieveHotelInfo.Close.Next                                 | 系统关闭本次搜索酒店信息任务，开始新的搜索酒店信息任务       |



#### 3.2.3 查看酒店详细信息

##### 3.2.5.1 特征描述

当客户有查看某特定酒店的详细信息的需要时，开始查看酒店详细信息。

优先级=高

##### 3.2.5.2 刺激/响应序列

刺激：客户发出查看酒店详细信息的请求。

响应：系统显示该酒店的详细信息，如酒店名称、地址、评分、星级、酒店简介等。

刺激：客户要求结束查看酒店详细信息任务。

响应：系统关闭查看酒店详细信息任务。

##### 3.2.5.3 相关功能需求

| 编号                               | 需求描述与度量                                               |
| ---------------------------------- | ------------------------------------------------------------ |
| HotelDetail.Show                   | 系统显示酒店详细信息。                                       |
| HotelDetail.End<br>Hotel.End.Close | 系统应该允许客户要求结束查看酒店详细信息任务。<br>在客户确认结束查看酒店详细信息任务时，系统关闭浏览订单任务，参见Hotel.Close |
| Hotel.Close.Next                   | 系统关闭本次查看酒店详细信息任务                             |



#### 3.2.4 注册会员

##### 3.2.4.1 特征描述

当一个经过验证的客户需要注册成为会员时，开始注册会员操作。普通会员登记生日，企业会员登记企业名称。

优先级=低

##### 3.2.4.2 刺激/响应序列

刺激：客户发出注册会员的请求。

响应：系统提示选择会员类型。

刺激：客户选择会员类型。

响应：系统根据客户选择的会员类型提示客户填写生日或企业名称。

刺激：客户取消注册会员任务

响应：系统关闭注册会员任务

刺激：客户填写会员信息完成并确认。

响应：系统提示注册结果，关闭当前注册任务。Member.Input.Birthday

##### 3.2.4.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Member.Input<br />Member.Input.Type<br />Member.Input.Birthday<br />Member.Input.CorporateName <br />Member.Input.Cancel<br />Member.Input.Invalid | 系统应该允许客户在注册会员任务中进行键盘输入<br />在客户输入目标会员类型时，系统要记录会员类型，参见Member.Update<br />在客户输入生日时（仅普通会员），系统要记录客户生日，参见Member.Update<br />在客户输入企业名称时（仅企业会员），系统要记录企业名称Member.Update<br />在客户输入取消命令时，系统关闭当前注册会员任务，开始一个新的注册会员任务，参见Member.Close<br />在客户信息填写不完整或不正确时，系统显示输入无效 |
| Member.Birthday.Null                                         | 在客户未输入生日信息就结束会员信息输入时（仅普通会员），系统提示客户填写完整生日信息，不做其他处理 |
| Member.CorporateName.Null                                    | 在客户未输入企业名称就结束会员信息输入时（仅企业会员），系统提示客户填写完整企业名称，不做其他处理 |
| Member.End<br />Member.End.Timeout<br />Member.End.Update<br />Member.End.Close | 系统应该允许客户要求结束注册会员任务<br />在注册会员任务开始1个小时后还没有接到客户请求时，系统取消注册会员任务<br />在客户要求结束注册会员任务时，系统更新数据，参见参见Member.Update<br />在客户确认注册会员任务完成后，系统关闭注册会员任务，参见Member.Close |
| Member.Update<br />Member.Update.UserIsMember<br />Member.Update.MemberList<br />Member.Update.Type<br />Member.Update.Birthday<br />Member.Update.CorporateName | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新客户账号信息，新增会员标记<br />系统更新会员列表<br />系统更新会员类型<br />系统更新会员生日（仅普通会员）<br />系统更新企业名称（仅企业会员） |
| Member.Close.Message<br />Member.Close.next                  | 系统提示注册是否成功<br />系统关闭本次注册会员任务，开始新的注册会员任务 |



#### 3.2.5 管理酒店促销策略

##### 3.2.5.1 特征描述

当一个经过验证的酒店工作人员需要管理酒店促销策略时，开始管理酒店促销策略操作，完成优惠规则选择。

优先级=低

##### 3.2.5.2 刺激/响应序列

刺激：酒店工作人员发出管理酒店促销策略的请求。

响应：系统显示优惠策略模态框。

刺激：酒店工作人员取消管理酒店促销策略任务。

响应：系统关闭管理酒店促销策略任务。

刺激：酒店工作人员发出新增促销策略请求，填写表单并确认。

响应：系统显示更新后的优惠策略列表，并更新后台数据。

刺激：酒店工作人员发出删除促销策略的请求并确认。

响应：系统显示已删除的提示框，并显示更新后的优惠策略列表。

##### 3.2.5.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| HotelStrategy.Input<br />HotelStrategy.Input.Rules<br />HotelStrategy.Input.Cancel<br /> | 系统应该允许酒店工作人员在制定酒店促销策略任务中进行键盘输入和选择<br />在酒店工作人员输入酒店促销策略规则时，系统要记录酒店促销策略规则，参见HotelStrategy.Update<br />在酒店工作人员输入取消命令时，系统关闭当前制定酒店促销策略任务，开始一个新的制定酒店促销策略任务，参见HotelStrategy.Close<br /> |
| HotelStrategy.Rules.Null                                     | 在酒店工作人员未输入酒店促销策略规则就结束促销策略输入时，系统提示酒店工作人员输入酒店促销策略规则，不做其他处理 |
| HotelStrategy.End<br />HotelStrategy.End.Update<br />HotelStrategy.End.Close | 系统应该允许酒店工作人员要求结束制定酒店促销策略任务<br />在酒店工作人员要求结束制定酒店促销策略任务时，系统更新数据，参见参见HotelStrategy.Update<br />在酒店工作人员确认制定酒店促销策略任务完成后，系统关闭制定酒店促销策略任务，参见HotelStrategy.Close |
| HotelStrategy.Update<br />HotelStrategy.Update.HotelStrategySet | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新酒店工作人员所在酒店促销策略规则集 |
| HotelStrategy.Close.Message<br />HotelStrategy.Close.next    | 系统提示制定酒店促销策略是否成功<br />系统关闭本次制定酒店促销策略任务，开始新的制定酒店促销策略任务 |



#### 3.2.6 浏览订单

##### 3.2.6.1 特征描述

当客户有浏览自己未执行的正常订单、已执行的正常订单、异常订单或已撤销订单的需要时，开始浏览订单。

优先级=低

##### 3.2.6.2 刺激/响应序列

刺激：客户发出浏览特定类型订单的请求（包括未执行的正常订单、已执行的正常订单、异常订单或已撤销订单）。

响应：系统显示该特定类型的订单列表。

刺激：客户要求结束浏览订单任务。

响应：系统关闭浏览订单任务。

##### 3.2.6.3 相关功能需求

| 编号                         | 需求描述与度量                                               |
| ---------------------------- | ------------------------------------------------------------ |
| Order.Show                   | 系统显示订单列表。                                           |
| Order.End<br>Order.End.Close | 系统应该允许客户要求结束浏览订单任务。<br>在客户确认结束浏览订单任务时，系统关闭浏览订单任务，参见Order.Close |
| Order.Close.Next             | 系统关闭本次浏览订单任务，开始新的浏览订单任务               |



#### 3.2.7 执行订单

##### 3.2.7.1 特征描述

当一个经过验证的酒店工作人员需要注册成为会员时，开始注册会员操作。普通会员登记生日，企业会员登记企业名称。
优先级=高

##### 3.2.7.2 刺激/响应序列

刺激：用户入住。
响应：系统改变订单状态为已执行，并增加订单用户等于订单价值的信用值。
刺激：用户在超过最晚订单执行时间后仍未办理入住。
响应：系统改变订单状态为异常，并扣除订单用户等于订单总价值的信用值。
刺激：酒店工作人员查看本地异常订单，并手工为订单用户补登记执行情况（即延迟入住）。
响应：系统改变订单状态为已执行，并回复扣除的信用值。

##### 3.2.7.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| OrderImpl.Input<br />OrderImpl.Input.Modify                  | 系统应该允许酒店工作人员在执行订单任务中进行键盘输入<br />在酒店工作人员修改订单状态时，系统改变订单状态和用户信用值，参见OrderImpl.Update |
| OrderImpl.End<br />OrderImpl.End.Timeout<br />OrderImpl.End.Update<br />OrderImpl.End.Close | 系统应该允许酒店工作人员要求结束执行订单会员任务<br />在执行订单任务开始1个小时后还没有接到酒店工作人员请求时，系统取消执行订单任务<br />在酒店工作人员要求结束执行订单任务时，系统更新数据，参见参见OrderImpl.Update<br />在酒店工作人员确认执行订单任务完成后，系统关闭执行订单任务，参见OrderImpl.Close |
| OrderImpl.Update<br />OrderImpl.Update.Status<br />OrderImpl.Update.Credit | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新订单状态<br />系统更新用户信用值 |
| OrderImpl.Close.Message<br />OrderImpl.Close.next            | 系统提示执行订单是否成功<br />系统关闭本次执行订单任务，开始新的执行订单任务 |



#### 3.2.8 制定网站促销策略

##### 3.2.8.1 特征描述

当一个经过验证的网站营销人员需要制定网站促销策略时，开始制定网站促销策略操作，完成优惠规则制定。
优先级=低

##### 3.2.8.2 刺激/响应序列

刺激：网站营销人员发出制定网站促销策略的请求。
响应：系统提示输入网站促销策略规则。
刺激：网站营销人员取消制定网站促销策略任务。
响应：系统关闭制定网站促销策略任务
刺激：网站营销人员输入网站促销策略规则并确认。
响应：系统提示制定网站促销策略是否成功，并更新网站促销策略规则集。

##### 3.2.8.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| SiteStrategy.Input<br />SiteStrategy.Input.Rules<br />SiteStrategy.Input.Cancel<br /> | 系统应该允许客户在制定酒店促销策略任务中进行键盘输入<br />在网站营销人员输入酒店促销策略规则时，系统要记录网站促销策略规则，参见SiteStrategy.Update<br />在网站营销人员输入取消命令时，系统关闭当前制定网站促销策略任务，开始一个新的制定网站促销策略任务，参见SiteStrategy.Close<br /> |
| SiteStrategy.Rules.Null                                      | 在网站营销人员未输入网站促销策略规则就结束促销策略输入时，系统提示网站营销人员输入酒店促销策略规则，不做其他处理 |
| SiteStrategy.End<br />SiteStrategy.End.Timeout<br />SiteStrategy.End.Update<br />SiteStrategy.End.Close | 系统应该允许网站营销人员要求结束制定网站促销策略任务<br />在制定网站促销策略任务开始1个小时后还没有接到网站营销人员请求时，系统取消制定网站促销策略任务<br />在网站营销人员要求结束制定网站促销策略任务时，系统更新数据，参见参见SiteStrategy.Update<br />在网站工作人员确认制定网站促销策略任务完成后，系统关闭制定网站促销策略任务，参见SiteStrategy.Close |
| SiteStrategy.Update<br />SiteStrategy.Update.HotelStrategySet | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新网站促销策略规则集 |
| SiteStrategy.Close.Message<br />SiteStrategy.Close.next      | 系统提示制定网站促销策略是否成功<br />系统关闭本次制定网站促销策略任务，开始新的制定网站促销策略任务 |

#### 3.2.9 注册会员

##### 3.2.9.1 特征描述

当一个经过验证的客户需要注册成为会员时，开始注册会员操作，并登记生日。
优先级=低

##### 3.2.9.2 刺激/响应序列

刺激：客户发出注册会员的请求。
响应：系统提示客户填写生日。
刺激：客户取消注册会员任务。
响应：系统关闭注册会员任务。
刺激：客户填写生日完成并确认。
响应：系统提示注册结果，关闭当前注册任务。

##### 3.2.9.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Member.Input<br />Member.Input.Birthday<br />Member.Input.Cancel<br />Member.Input.Invalid | 系统应该允许客户在注册会员任务中进行键盘输入<br />在客户输入生日时，系统要记录客户生日，参见Member.Update<br />在客户输入取消命令时，系统关闭当前注册会员任务，开始一个新的注册会员任务，参见Member.Close<br />在客户信息填写不完整或不正确时，系统显示输入无效 |
| Member.Birthday.Null                                         | 在客户未输入生日信息就结束会员信息输入时，系统提示客户填写完整生日信息，不做其他处理 |
| Member.End<br />Member.End.Timeout<br />Member.End.Update<br />Member.End.Close | 系统应该允许客户要求结束注册会员任务<br />在注册会员任务开始1个小时后还没有接到客户请求时，系统取消注册会员任务<br />在客户要求结束注册会员任务时，系统更新数据，参见参见Member.Update<br />在客户确认注册会员任务完成后，系统关闭注册会员任务，参见Member.Close |
| Member.Update<br />Member.Update.UserIsMember<br />Member.Update.MemberList<br />Member.Update.Type<br />Member.Update.Birthday<br /> | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新客户账号信息，新增会员标记<br />系统更新会员列表<br />系统更新会员类型<br />系统更新会员生日<br /> |
| Member.Close.Message<br />Member.Close.next                  | 系统提示注册是否成功<br />系统关闭本次注册会员任务，开始新的注册会员任务 |

#### 3.2.10 维护酒店基本信息

##### 3.2.10.1 特征描述

当一个经过验证的酒店工作人员需要修改酒店基本信息时，开始维护酒店基本信息操作。
优先级=高

##### 3.2.10.2 刺激/响应序列

刺激：酒店工作人员发出浏览酒店基本信息的请求。
相应：系统显示酒店基本信息。
刺激：酒店工作人员发出维护酒店基本信息的请求。
响应：系统提示酒店工作人员修改信息。
刺激：酒店工作人员退出修改界面。
相应：系统关闭当前修改任务。
刺激：酒店工作人员完成修改。
响应：系统提示修改结果，关闭当前修改任务。

##### 3.2.10.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| HotelInfo.Input<br />HotelInfo.Input.Cancel<br />HotelInfo.Input.Invalid | 系统应该允许酒店工作人员在任务中进行键盘输入<br />在酒店工作人员输入取消命令时，系统关闭当前任务，开始一个新的任务，参见HotelInfo.Close<br />在酒店工作人员信息填写不完整或不正确时，系统显示输入无效 |
| HotelInfo.End<br />HotelInfo.End.Timeout<br />HotelInfo.End.Update<br />HotelInfo.End.Close | 系统应该允许酒店工作人员要求结束任务<br />在任务开始1个小时后还没有接到酒店工作人员请求时，系统取消任务<br />在酒店工作人员要求结束任务时，系统更新数据，参见参见HotelInfo.Update<br />在酒店工作人员确认任务完成后，系统关闭任务，参见HotelInfo.Close |
| HotelInfo.Update<br />HotelInfo.Update.Description<br />HotelInfo.Update.Address<br />HotelInfo.Update.PhoneNum<br /> | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新酒店描述<br />系统更新酒店地址<br />系统更新酒店电话号码<br /> |
| HotelInfo.Close.Message<br />HotelInfo.Close.next            | 系统提示修改信息是否成功<br />系统关闭本次修改任务，开始新的修改任务 |



#### 3.2.11 管理酒店设施服务标签

##### 3.2.11.1 特征描述

当一个经过验证的酒店工作人员需要酒店设施服务标签时，开始操作。
优先级=高

##### 3.2.11.2 刺激/响应序列

刺激：酒店工作人员发出浏览酒店设施服务标签的请求。
相应：系统显示酒店设施服务标签。
刺激：酒店工作人员选择添加或删除酒店服务标签。
响应：系统添加或删除酒店服务标签，并显示所有服务标签。
刺激：酒店工作人员退出修改界面。
相应：系统关闭当前修改任务。
刺激：酒店工作人员完成修改。
响应：系统提示修改结果，关闭当前修改任务。

##### 3.2.11.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| HotelInfo.Input<br />HotelInfo.Input.Cancel<br />HotelInfo.Input.Invalid | 系统应该允许酒店工作人员在任务中进行键盘输入<br />在酒店工作人员输入取消命令时，系统关闭当前任务，开始一个新的任务，参见HotelInfo.Close<br />在酒店工作人员信息填写不完整或不正确时，系统显示输入无效 |
| HotelInfo.End<br />HotelInfo.End.Timeout<br />HotelInfo.End.Update<br />HotelInfo.End.Close | 系统应该允许酒店工作人员要求结束任务<br />在任务开始1个小时后还没有接到酒店工作人员请求时，系统取消任务<br />在酒店工作人员要求结束任务时，系统更新数据，参见参见HotelInfo.Update<br />在酒店工作人员确认任务完成后，系统关闭任务，参见HotelInfo.Close |
| HotelInfo.Update<br />HotelInfo.Update.ServiceTag<br />      | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新酒店服务标签<br /> |
| HotelInfo.Close.Message<br />HotelInfo.Close.next            | 系统提示修改信息是否成功<br />系统关闭本次修改任务，开始新的修改任务 |



#### 3.2.12 管理用户

##### 3.2.12.1 特征描述

当一个经过验证的网站管理员需要管理用户时，开始操作。
优先级=高

##### 3.2.12.2 刺激/响应序列

刺激：网站管理员发出浏览用户的请求。
响应：系统显示用户信息。
刺激：网站管理员发出修改用户信息的请求。
响应：系统修改用户信息，并显示修改结果。
刺激：网站管理员发出删除用户的请求。
响应：系统删除用户，并显示删除结果。
刺激：网站管理员发出增加用户的请求。
响应：系统增加用户，并显示增加结果。
刺激：管理员输入搜索用户关键词。
响应：系统显示搜索结果。

##### 3.2.12.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ManageUser.Input<br />ManageUser.Input.Cancel<br />ManageUser.Input.Invalid | 系统应该允许网站管理员在任务中进行键盘输入<br />在网站管理员输入取消命令时，系统关闭当前任务，开始一个新的任务，参见ManageUser.Close<br />在网站管理员信息填写不完整或不正确时，系统显示输入无效 |
| ManageUser.End<br />ManageUser.End.Timeout<br />ManageUser.End.Update<br />ManageUser.End.Close | 系统应该允许网站管理员要求结束任务<br />在任务开始1个小时后还没有接到网站管理员请求时，系统取消任务<br />在网站管理员要求结束任务时，系统更新数据，参见参见ManageUser.Update<br />在网站管理员确认任务完成后，系统关闭任务，参见ManageUser.Close |
| ManageUser.Update<br />ManageUser.Update.UserInfo<br />      | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新用户信息<br /> |
| ManageUser.Close.Message<br />ManageUser.Close.next          | 系统提示修改信息是否成功<br />系统关闭本次修改任务，开始新的修改任务 |



#### 3.2.13 管理酒店

##### 3.2.13.1 特征描述

当一个经过验证的网站管理员需要管理酒店时，开始操作。
优先级=高

##### 3.2.13.2 刺激/响应序列

刺激：网站管理员发出浏览酒店的请求。
响应：系统显示酒店信息。
刺激：网站管理员发出添加酒店的请求。
响应：系统添加酒店，并显示添加结果。
刺激：网站管理员发出增加酒店工作人员的请求。
响应：系统增加酒店工作人员，并显示增加结果。
刺激：网站管理员发出删除酒店及工作人员的请求。
响应：系统删除酒店及工作人员，并显示删除结果。
刺激：网站管理员发出修改的请求。
响应：系统修改信息，并显示修改结果。
刺激：管理员输入搜索酒店关键词。
响应：系统显示搜索结果。

##### 3.2.13.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ManageHotel.Input<br />ManageHotel.Input.Cancel<br />ManageHotel.Input.Invalid | 系统应该允许网站管理员在任务中进行键盘输入<br />在网站管理员输入取消命令时，系统关闭当前任务，开始一个新的任务，参见ManageHotel.Close<br />在网站管理员信息填写不完整或不正确时，系统显示输入无效 |
| ManageHotel.End<br />ManageHotel.End.Timeout<br />ManageHotel.End.Update<br />ManageHotel.End.Close | 系统应该允许网站管理员要求结束任务<br />在任务开始1个小时后还没有接到网站管理员请求时，系统取消任务<br />在网站管理员要求结束任务时，系统更新数据，参见参见ManageHotel.Update<br />在网站管理员确认任务完成后，系统关闭任务，参见ManageHotel.Close |
| ManageHotel.Update<br />ManageHotel.Update.UserInfo<br />    | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新酒店工作人员信息<br /> |
| ManageHotel.Close.Message<br />ManageHotel.Close.next        | 系统提示修改信息是否成功<br />系统关闭本次修改任务，开始新的修改任务 |

#### 3.2.14 管理个人信息

##### 3.2.14.1 特征描述

当用户需要查看或修改个人信息时，开始操作。
优先级=高

##### 3.2.14.2 刺激/响应序列

刺激：用户发出查看个人信息的请求。
相应：系统显示用户的个人信息，包括头像、用户名、邮箱、手机号、信用值、会员积分、生日、历史订单。
刺激：用户发出修改个人信息的请求，填写新的个人信息，并确认提交。
响应：系统更新个人信息，并显示更新后的个人信息。
刺激：用户退出修改界面。
相应：系统关闭当前修改任务。

##### 3.2.14.3 相关功能需求

| 编号                                                         | 需求描述与度量                                               |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| UserInfo.Input<br />UserInfo.Input.Cancel<br />UserInfo.Input.Invalid | 系统应该允许用户在任务中进行键盘输入<br />在用户输入取消命令时，系统关闭当前任务，开始一个新的任务，参见UserInfo.Close<br />在用户信息填写不完整或不正确时，系统显示输入无效 |
| UserInfo.End<br />UserInfo.End.Update<br />UserInfo.End.Close | 系统应该允许用户要求结束任务<br />在用户要求结束任务时，系统更新数据，参见参见UserInfo.Update<br />在用户确认任务完成后，系统关闭任务，参见UserInfo.Close |
| UserInfo.Update<br />UserInfo.Update.ServiceTag<br />        | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新<br />系统更新用户个人信息<br /> |
| UserInfo.Close.Message<br />UserInfo.Close.next              | 系统提示修改信息是否成功<br />系统关闭本次修改任务，开始新的修改任务 |



#### 3.2.15 查看推广度曲线

##### 3.2.15.1 特征描述

当客户有了解当前网站的推广度的需要时，开始查看推广度曲线。

优先级=低

##### 3.2.15.2 刺激/响应序列

刺激：客户发出查看推广度曲线的请求。

响应：系统显示查看推广度曲线。

刺激：客户要求结束查看推广度曲线任务。

响应：系统关闭查看推广度曲线任务。

##### 3.2.15.3 相关功能需求

| 编号                                       | 需求描述与度量                                               |
| ------------------------------------------ | ------------------------------------------------------------ |
| ProposeCurve.Show                          | 系统显示推广度曲线。                                         |
| ProposeCurve.End<br>ProposeCurve.End.Close | 系统应该允许客户要求结束查看推广度曲线任务。<br>在客户确认结束查看推广度曲线任务时，系统关闭查看推广度曲线任务，参见ProposeCurve.Close |
| ProposeCurve.Close.Next                    | 系统关闭本次查看推广度曲线任务                               |



### 3.3 非功能需求

#### 3.3.1 安全性

Safety1：用户只能查看和维护自己的信息 

Safety2：酒店工作人员只能处理其所指定酒店的工作 

Safety3：网站管理人员不能修改用户的信用值 

Safety4：为防信息泄露，用户的账号、密码、姓名（名称）、联系方式必须密文存储。 

#### 3.3.2 可维护性

Modifiability1：如果系统要增加新的酒店促销策略和网站营销策略（例如合作企业客户折扣），要能够在0.25个人月内完成。

Modifiability2：如果系统要增加新的会员服务，要能够在0.25个人月内完成。

Modifiability3：本项目需要有注释和软件开发文档说明。

#### 3.3.3 易用性

Usability1：所有类型人员都不需要专门的培训，都可以在10 分钟内完成任一个操作任务。

Usability2：使用系统1个月的酒店工作人员进行执行订单操作的效率要达到1份订单/分钟。

#### 3.3.4 可靠性

Reliability1：网络畅通，客户端与服务器通信时，不会发生故障。	

#### 3.3.5 业务规则

BR1：客户信用值体系规则，该规则可能变化。		

* 信用值<0时，不能预订酒店；
* 如果撤销的订单距离最晚订单执行时间不足6个小时，撤销的同时扣除信用值，信用值为订单的总价值的1/2；
* 如果线下的异常订单申诉合理（系统不予考虑），营销人员可以撤销异常订单，并恢复客户被扣除的信用值的全部或一半。恢复信用值的全部还是一半，由营销人员自己决定；
* 如果时间在超过最晚订单执行时间后还没有办理入住，系统自动将其置为异常订单，置为异常的同时扣除客户等于订单的总价值的信用值；
* 对于已执行的订单，客户可以获得等于订单价值的信用值

BR2：适用（房间类型，最低参照价格，最高参照价格，房间数量、入住日期、退房日期）的酒店搜索策略。

* （酒店房间类型 = 房间类型）而且（（最低参照价格 <= 房间价格）并且（房间价格 <= 最高参照价格））而且（房间数量 <= 酒店该类型房间数量）而且（（入住日期晚于等于有足够该类型空房起始日期）并且（退房日期早于等于有足够该类型空房截止日期））

BR3：适用（最低参照星级，最高参照星级）的酒店搜索策略。

* （最低参照星级 <= 酒店星级）并且（酒店星级 <= 最高参照价格）
* 满足上述价格条件的酒店按照星级从高到低排序

BR4：适用（最低参照评分，最高参照评分）的酒店搜索策略。

* （最低参照评分 <= 酒店评分）并且（酒店评分 <= 最高参照评分）
* 满足上述价格条件的酒店按照星级从高到低排序

BR5：适用（额度，生日日期）的酒店生日促销策略。

* （促销额度 <= 额度）而且（订单生成日期 = 生日日期）

BR6：适用（额度，参照日期）的总额酒店促销策略。

* （促销额度 <= 额度）而且（不存在：本促销额度 < 另一个促销额度 <= 额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR7：适用（额度，参照日期）的网站特定期间促销策略。

* （促销额度 <= 额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR8：适用（额度，参照日期）的总额网站促销策略。

* （促销额度 <= 额度）而且（不存在：本促销额度 < 另一个促销额度 <= 额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

*注：BR2-BR4可以独立起作用，也可以联合起作用。*

#### 3.3.6 约束

IC1：采用分布式部署，用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的地方，所以要提供各自的应用部署。



### 3.4 数据需求

#### 3.4.1 数据定义

DR1：系统需要存储的数据实体及其关系参见下图：
![img](https://supernatural.oss-cn-beijing.aliyuncs.com/酒店系统实体关系图.jpg)

DR2：系统需要存储1年内的订单记录和退订记录

#### 3.4.2 默认数据

默认数据用于一下两种情况：
1.系统新增数据时。
2.编辑数据时不小心将相关内容清空时。
Default1:费用或价格的数据默认是0。
Default2:积分数据默认是0。
Default3:时间默认是当天。

#### 3.4.3 数据格式要求

Format1:价格和费用的格式必须是大于等于0、精确到小数点后2位的浮点数，单位为元。
Format2:日期格式必须是yyyy-mm-dd。
Format3:数量的格式必须是正整数。

### 3.5 其他

1. 可扩展性需求：酒店促销策略和网站营销策略将来会出现新的类型，系统应该能够动态更新